webpackJsonp([0],{1664:function(e,t,n){var r,o,i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};r=[n,t,n(8),n(3),n(0),n(50),n(97),n(2611),n(101),n(279),n(2165),n(2164),n(2166),n(61),n(173)],void 0!==(o=function(e,t,n,r,o,a,s,c,l,u,d,p,f,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.routes=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:d.Login},{path:"cambiarcontrasena/:Usuarioid",component:p.CambiarContrasena},{path:"externo",component:f.Loginexterno}];var m=function(){function SeguridadModule(){}return SeguridadModule}();m.routes=t.routes,m=i([o.NgModule({declarations:[d.Login,p.CambiarContrasena,f.Loginexterno],providers:[g.StorageService],imports:[n.CommonModule,h.SuiModule,r.FormsModule,r.ReactiveFormsModule,s.ModalModule.forRoot(),l.JsonpModule,c.NgxPasswordToggleModule,u.TextMaskModule,a.RouterModule.forChild(t.routes)]})],m),t.SeguridadModule=m}.apply(t,r))&&(e.exports=o)},1698:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},1744:function(e,t,n){(function(e){function inspect(e,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&t._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,n,r){if(e.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return isString(o)||(o=formatValue(e,o,r)),o}var i=formatPrimitive(e,n);if(i)return i;var a=Object.keys(n),s=arrayToHash(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),isError(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(n);if(0===a.length){if(isFunction(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(isRegExp(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return e.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var l="",u=!1,d=["{","}"];if(isArray(n)&&(u=!0,d=["[","]"]),isFunction(n)){l=" [Function"+(n.name?": "+n.name:"")+"]"}if(isRegExp(n)&&(l=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(l=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(l=" "+formatError(n)),0===a.length&&(!u||0==n.length))return d[0]+l+d[1];if(r<0)return isRegExp(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var p;return p=u?formatArray(e,n,r,s,a):a.map(function(t){return formatProperty(e,n,r,s,t,u)}),e.seen.pop(),reduceToSingleString(p,l,d)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?i.push(formatProperty(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(formatProperty(e,t,n,r,o,!0))}),i}function formatProperty(e,t,n,r,o,i){var a,s,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),isUndefined(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),a[e.getMonth()],t].join(" ")}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var r=/%[sdj%]/g;t.format=function(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}for(var n=1,o=arguments,i=o.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}}),s=o[n];n<i;s=o[++n])isNull(s)||!isObject(s)?a+=" "+s:a+=" "+inspect(s);return a},t.deprecate=function(n,r){function deprecated(){if(!o){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}if(isUndefined(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(!0===process.noDeprecation)return n;var o=!1;return deprecated};var o,i={};t.debuglog=function(e){if(isUndefined(o)&&(o={ENV:"production",NODE_ENV:"production",HMR:!1}.NODE_DEBUG||""),e=e.toUpperCase(),!i[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=process.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=n(1792);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",timestamp(),t.format.apply(t,arguments))},t.inherits=n(1698),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(86))},1786:function(e,t){e.exports=".titleLogin{color:#CB0036;text-align:center;font-faimly:icon}.landing-btn{width:350px;background:#1E88E5;cursor:pointer;color:#FFF;padding:15px;border:solid 1px #C5C5C5;border-radius:80px;-moz-border-radius:6px;-webkit-border-radius:6px;box-shadow:3px 2px 8px 1px rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}.landing-btn:hover{background:#1976D2}.login-form{width:350px;padding:15px;padding-bottom:25px;border:solid 1px #C5C5C5;border-radius:60px;-moz-border-radius:6px;-webkit-border-radius:6px;margin:50px auto;box-shadow:0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}.form-control2:focus,.form-control2:focus+.fa{border-color:#CB0036 !important;color:#CB0036 !important}.log-status.wrong-entry{-webkit-animation:wrong-log 0.3s;-moz-animation:wrong-log 0.3s;-ms-animation:wrong-log 0.3s;animation:wrong-log 0.3s}.log-status.wrong-entry .form-control,.wrong-entry .form-control+.fa{border-color:#CB0036;color:#CB0036}@keyframes wrong-log{0%{left:0px}20%{left:15px}40%{left:-15px}60%{left:15px}80%{left:-15px}100%{left:0px}}@-ms-keyframes wrong-log{0%{left:0px}20%{left:15px}40%{left:-15px}60%{left:15px}80%{left:-15px}100%{left:0px}}@-moz-keyframes wrong-log{0%{left:0px}20%{left:15px}40%{left:-15px}60%{left:15px}80%{left:-15px}100%{left:0px}}@-webkit-keyframes wrong-log{0%{left:0px}20%{left:15px}40%{left:-15px}60%{left:15px}80%{left:-15px}100%{left:0px}}.log-btn{background:#CB0036;dispaly:inline-block;width:80%;font-size:16px;height:40px;color:#fff;text-decoration:none;border:none;border-radius:10px !important;-moz-border-radius:10px !important;-webkit-border-radius:10px !important}.link{text-decoration:none;color:#2FB00A;display:block;text-align:right;font-size:12px;margin-bottom:15px}.link:hover{text-decoration:underline;color:#CB0036}.labLogin{color:#CB0036;font-size:15px}.footerInt{width:100%;height:45px;background:#fff;position:fixed;bottom:0;border-top:solid 2px rgba(0,0,0,0.19)}.page-footer{margin-bottom:25px;text-align:center}@media (min-height: 600px){.page-footer{position:fixed;bottom:0;left:0;right:0}}\n"},1787:function(e,t){e.exports=".login-page{background-color:#ddd}.login-page .page-footer{margin-bottom:25px;font-size:13px;color:#636c72;text-align:center}@media (min-height: 600px){.login-page .page-footer{position:fixed;bottom:0;left:0;right:0}}.widget-login-container{padding-top:10%}.widget-login-logo{margin-top:15px;margin-bottom:15px;text-align:center;font-weight:normal}.widget-login-logo .fa-circle{font-size:13px;margin:0 20px}.widget-login{padding:30px}.widget-login>header h1,.widget-login>header h2,.widget-login>header h3,.widget-login>header h4,.widget-login>header h5,.widget-login>header h6{font-weight:normal;text-align:center}.widget-login-info{font-size:13px;color:#888;margin-top:1px;margin-bottom:0;text-align:center}.widget-login-info.abc-checkbox{margin-left:-25px}.login-form .form-control{font-size:13px;border:none;background-color:#eceeef}.login-form .form-control:focus{background-color:#ddd}\n"},1792:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1936:function(e,t,n){function PeerConnection(e,t){var n,r=this;i.call(this),e=e||{},e.iceServers=e.iceServers||[],this.enableChromeNativeSimulcast=!1,t&&t.optional&&window.chrome&&null===navigator.appVersion.match(/Chromium\//)&&t.optional.forEach(function(e){e.enableChromeNativeSimulcast&&(r.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.enableMultiStreamHacks&&(r.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetRestrictBandwidth&&(r.restrictBandwidth=e.andyetRestrictBandwidth)}),this.batchIceCandidates=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetBatchIce&&(r.batchIceCandidates=e.andyetBatchIce)}),this.batchedIceCandidates=[],t&&t.optional&&window.chrome&&t.optional.forEach(function(e){e.andyetFasterICE&&(r.eliminateDuplicateCandidates=e.andyetFasterICE)}),t&&t.optional&&t.optional.forEach(function(e){e.andyetDontSignalCandidates&&(r.dontSignalCandidates=e.andyetDontSignalCandidates)}),this.assumeSetLocalSuccess=!1,t&&t.optional&&t.optional.forEach(function(e){e.andyetAssumeSetLocalSuccess&&(r.assumeSetLocalSuccess=e.andyetAssumeSetLocalSuccess)}),window.navigator.mozGetUserMedia&&t&&t.optional&&(this.wtFirefox=0,t.optional.forEach(function(e){e.andyetFirefoxMakesMeSad&&(r.wtFirefox=e.andyetFirefoxMakesMeSad,r.wtFirefox>0&&(r.firefoxcandidatebuffer=[]))})),this.pc=new RTCPeerConnection(e,t),"function"==typeof this.pc.getLocalStreams?this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc):this.getLocalStreams=function(){return[]},"function"==typeof this.pc.getRemoteStreams?this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc):this.getRemoteStreams=function(){return[]},this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=function(e){"function"==typeof r.pc.removeStream?r.pc.removeStream.apply(r.pc,arguments):"function"==typeof r.pc.removeTrack&&e.getTracks().forEach(function(e){r.pc.removeTrack(e)})},"function"==typeof this.pc.removeTrack&&(this.removeTrack=this.pc.removeTrack.bind(this.pc)),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onremovetrack=this.emit.bind(this,"removeTrack"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},this.iceCredentials={local:{},remote:{}};for(n in e)this.config[n]=e[n];this.config.debug&&this.on("*",function(){(e.logger||console).log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}var r=n(1744),o=n(2932),i=n(2942),a=n(2609);r.inherits(PeerConnection,i),Object.defineProperty(PeerConnection.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(PeerConnection.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),PeerConnection.prototype._role=function(){return this.isInitiator?"initiator":"responder"},PeerConnection.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},PeerConnection.prototype._checkLocalCandidate=function(e){var t=o.toCandidateJSON(e);"srflx"==t.type?this.hadLocalStunCandidate=!0:"relay"==t.type&&(this.hadLocalRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},PeerConnection.prototype._checkRemoteCandidate=function(e){var t=o.toCandidateJSON(e);"srflx"==t.type?this.hadRemoteStunCandidate=!0:"relay"==t.type&&(this.hadRemoteRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},PeerConnection.prototype.processIce=function(e,t){t=t||function(){};var n=this;if("closed"===this.pc.signalingState)return t();if(e.contents||e.jingle&&e.jingle.contents){var r=this.remoteDescription.contents.map(function(e){return e.name});(e.contents||e.jingle.contents).forEach(function(e){var i=e.transport||{},a=i.candidates||[],s=r.indexOf(e.name),c=e.name,l=n.remoteDescription.contents.find(function(t){return t.name===e.name}),u=function(){a.forEach(function(e){var t=o.toCandidateSDP(e);n.pc.addIceCandidate(new RTCIceCandidate({candidate:t,sdpMLineIndex:s,sdpMid:c}),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(t)}),t()};if(n.iceCredentials.remote[e.name]&&i.ufrag&&n.iceCredentials.remote[e.name].ufrag!==i.ufrag)if(l){l.transport.ufrag=i.ufrag,l.transport.pwd=i.pwd;var d={type:"offer",jingle:n.remoteDescription};d.sdp=o.toSessionSDP(d.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.pc.setRemoteDescription(new RTCSessionDescription(d),function(){u()},function(e){n.emit("error",e)})}else n.emit("error","ice restart failed to find matching content");else u()})}else{if(e.candidate&&0!==e.candidate.candidate.indexOf("a=")&&(e.candidate.candidate="a="+e.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(e.candidate),t();n.pc.addIceCandidate(new RTCIceCandidate(e.candidate),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate.candidate),t()}},PeerConnection.prototype.offer=function(e,t){var n=this,r=2===arguments.length,i=r&&e?e:{offerToReceiveAudio:1,offerToReceiveVideo:1};if(t=r?t:e,t=t||function(){},"closed"===this.pc.signalingState)return t("Already closed");this.pc.createOffer(function(e){var r={type:"offer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",r),t(null,r)),n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){var i;n.config.useJingle&&(i=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),i.sid=n.config.sid,n.localDescription=i,i.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.local[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),r.jingle=i),r.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),n.assumeSetLocalSuccess||(n.emit("offer",r),t(null,r))},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},i)},PeerConnection.prototype.handleOffer=function(e,t){t=t||function(){};var n=this;if(e.type="offer",e.jingle){if(this.enableChromeNativeSimulcast&&e.jingle.contents.forEach(function(e){"video"===e.name&&(e.application.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&e.jingle.contents.forEach(function(e){if("video"===e.name){var t=e.application.sources||[];0!==t.length&&"3735928559"===t[0].ssrc||(t.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),e.application.sources=t)}}),n.restrictBandwidth>0&&e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name){var r=e.jingle.contents[1];r.application&&r.application.bandwidth&&r.application.bandwidth.bandwidth||(e.jingle.contents[1].application.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle}e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){t()},t)},PeerConnection.prototype.answerAudioOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(t,e)},PeerConnection.prototype.answerBroadcastOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(t,e)},PeerConnection.prototype.answer=function(e,t){var n=2===arguments.length,r=n?t:e,o=n&&e?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(o,r)},PeerConnection.prototype.handleAnswer=function(e,t){t=t||function(){};var n=this;e.jingle&&(e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle,e.jingle.contents.forEach(function(e){var t=e.transport||{};t.ufrag&&(n.iceCredentials.remote[e.name]={ufrag:t.ufrag,pwd:t.pwd})})),e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new RTCSessionDescription(e),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(e){n.pc.addIceCandidate(new RTCIceCandidate(e),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),t(null)},t)},PeerConnection.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},PeerConnection.prototype._answer=function(e,t){t=t||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return t("Already closed");n.pc.createAnswer(function(e){var r=[];if(n.enableChromeNativeSimulcast&&(e.jingle=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name)){var i=e.jingle.contents[1].application.sourceGroups||[],s=!1;if(i.forEach(function(e){"SIM"==e.semantics&&(s=!0)}),!s&&e.jingle.contents[1].application.sources.length){var c=JSON.parse(JSON.stringify(e.jingle.contents[1].application.sources[0]));c.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(c),r.push(e.jingle.contents[1].application.sources[0].ssrc),r.push(c.ssrc),i.push({semantics:"SIM",sources:r});var l=JSON.parse(JSON.stringify(c));l.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].application.sources.push(l),i.push({semantics:"FID",sources:[c.ssrc,l.ssrc]}),e.jingle.contents[1].application.sourceGroups=i,e.sdp=o.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var u={type:"answer",sdp:e.sdp};if(n.assumeSetLocalSuccess){var d=a(u);n.emit("answer",d),t(null,d)}n._candidateBuffer=[],n.pc.setLocalDescription(e,function(){if(n.config.useJingle){var r=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"});r.sid=n.config.sid,n.localDescription=r,u.jingle=r}if(n.enableChromeNativeSimulcast&&(u.jingle||(u.jingle=o.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"})),u.jingle.contents[1].application.sources.forEach(function(e,t){e.parameters=e.parameters.map(function(e){return"msid"===e.key&&(e.value+="-"+Math.floor(t/2)),e})}),u.sdp=o.toSessionSDP(u.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})),u.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),!n.assumeSetLocalSuccess){var i=a(u);n.emit("answer",i),t(null,i)}},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},e)},PeerConnection.prototype._onIce=function(e){var t=this;if(e.candidate){if(this.dontSignalCandidates)return;var n=e.candidate,r={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var i,a,s=o.toCandidateJSON(n.candidate);if(this.eliminateDuplicateCandidates&&"relay"===s.type&&(i=this._candidateBuffer.filter(function(e){return"relay"===e.type}).map(function(e){return e.foundation+":"+e.component}),(a=i.indexOf(s.foundation+":"+s.component))>-1&&s.priority>>24>=i[a].priority>>24))return;if("max-bundle"===this.config.bundlePolicy&&(i=this._candidateBuffer.filter(function(e){return s.type===e.type}).map(function(e){return e.address+":"+e.port}),(a=i.indexOf(s.address+":"+s.port))>-1))return;if("require"===this.config.rtcpMuxPolicy&&"2"===s.component)return;if(this._candidateBuffer.push(s),t.config.useJingle){if(n.sdpMid||(t.pc.remoteDescription&&"offer"===t.pc.remoteDescription.type?n.sdpMid=t.remoteDescription.contents[n.sdpMLineIndex].name:n.sdpMid=t.localDescription.contents[n.sdpMLineIndex].name),!t.iceCredentials.local[n.sdpMid]){o.toSessionJSON(t.pc.localDescription.sdp,{role:t._role(),direction:"outgoing"}).contents.forEach(function(e){var n=e.transport||{};n.ufrag&&(t.iceCredentials.local[e.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(r.jingle={contents:[{name:n.sdpMid,creator:t._role(),transport:{transportType:"iceUdp",ufrag:t.iceCredentials.local[n.sdpMid].ufrag,pwd:t.iceCredentials.local[n.sdpMid].pwd,candidates:[s]}}]},t.batchIceCandidates>0)return 0===t.batchedIceCandidates.length&&window.setTimeout(function(){var e={};t.batchedIceCandidates.forEach(function(t){t=t.contents[0],e[t.name]||(e[t.name]=t),e[t.name].transport.candidates.push(t.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(e).forEach(function(t){n.jingle.contents.push(e[t])}),t.batchedIceCandidates=[],t.emit("ice",n)},t.batchIceCandidates),void t.batchedIceCandidates.push(r.jingle)}this.emit("ice",r)}else this.emit("endOfCandidates")},PeerConnection.prototype._onDataChannel=function(e){var t=e.channel;this._remoteDataChannels.push(t),this.emit("addChannel",t)},PeerConnection.prototype.createDataChannel=function(e,t){var n=this.pc.createDataChannel(e,t);return this._localDataChannels.push(n),n},PeerConnection.prototype.getStats=function(){if("function"!=typeof arguments[0])return this.pc.getStats.apply(this.pc,arguments);var e=arguments[0];this.pc.getStats().then(function(t){e(null,t)},function(t){e(t)})},e.exports=PeerConnection},1937:function(e,t){e.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},2164:function(e,t,n){var r,o,i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};r=[n,t,n(0),n(9),n(50),n(3),n(769),n(8),n(26),n(61),n(44)],void 0!==(o=function(e,t,r,o,s,c,l,u,d,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function CambiarContrasena(e,t,n,r,o,i,a){this._httpService=e,this._router=t,this._fb=n,this._location=r,this._config=o,this.storage=i,this._route=a,this.rutaLogo="./assets/img/logo/",this.numberMask=f.default({prefix:"",suffix:"",includeThousandsSeparator:!1,thousandsSeparatorSymbol:",",allowDecimal:!1,decimalSymbol:"",decimalLimit:0,integerLimit:null,requireDecimal:!1,allowNegative:!1,allowLeadingZeroes:!1});var s=this._config.getConfig();this.rutaLogo=this.rutaLogo+s.logo}return CambiarContrasena.prototype.ngOnInit=function(){var e=this;this._route.params.subscribe(function(t){e.usuarioid=t.Usuarioid});var t=new c.FormControl("",c.Validators.required),n=new c.FormControl("",l.CustomValidators.equalTo(t));this.Form=this._fb.group({correo:[,c.Validators.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)],cuenta:[,c.Validators.required],id:[,c.Validators.required],temporalclave:[,c.Validators.required],ip:[]}),this.Form.addControl("nuevaclave",t),this.Form.addControl("confirmarclave",n);try{this.getIp()}catch(e){console.log(e)}},CambiarContrasena.prototype.ngAfterViewInit=function(){var e=this;this.storage.getItem("parametros")||this.obtenerParametros(),this._httpService.getElemento("Parametros/"+this.usuarioid).subscribe(function(t){200==t.status?(e.leyenda=t.body.leyenda,e.Form.controls.nuevaclave.setValidators(c.Validators.pattern(t.body.regexr))):Messenger().post({message:t.body,type:"success",showCloseButton:!0})},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},CambiarContrasena.prototype.obtenerParametros=function(){var e=this;this._httpService.getElemento("Parametros").subscribe(function(t){200==t.status?e.storage.setItem("parametros",t.body):Messenger().post({message:t.body,type:"success",showCloseButton:!0})},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},CambiarContrasena.prototype.encodePassword=function(e){function base64url(e){var t=CryptoJS.enc.Base64.stringify(e);return t=t.replace(/=+$/,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_")}var t={alg:"HS256",typ:"JWT"},n=CryptoJS.enc.Utf8.parse(JSON.stringify(t)),r=base64url(n),o=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),i=base64url(o),a=r+"."+i,s="GQDstcKsx0NHjPOuXOYg5MbeJ1XT0uFiwDVvVBrk123456789",c=CryptoJS.HmacSHA256(a,s);return c=base64url(c),a+"."+c},CambiarContrasena.prototype.cambiar=function(){var e=this;if(this.submitted=!0,!this.Form.valid)return!1;var t={correo:this.Form.get("correo").value,cuenta:this.Form.get("cuenta").value,usuarioid:this.Form.get("id").value,claveanterior:this.encodePassword({cadena:this.Form.get("temporalclave").value}),clavenueva:this.encodePassword({cadena:this.Form.get("nuevaclave").value}),ip:this.Form.get("ip").value};this._httpService.postElemento("cambiarcontrasena",t,!0).subscribe(function(t){200==t.status?(Messenger().post({message:"La contraseña se actualizo correctamente",type:"success",showCloseButton:!0}),e.storage.setItem("token",t.body.token),e.storage.setItem("usuarioid",t.body.usuarioid),e.storage.setItem("usuario",t.body.cuenta),e.storage.setItem("tiempoinactividad",t.body.tiempoinactividad),e.storage.setItem("menu",JSON.stringify(t.body.accesos)),e._router.navigate(["/menu/inicio"])):Messenger().post({message:t.body,type:"success",showCloseButton:!0})},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},CambiarContrasena.prototype.atras=function(){this.storage.getItem("token")?this._location.back():this._router.navigate(["/seguridad/login"])},CambiarContrasena.prototype.getIp=function(){var e=this,t=n(1936),r=new t({iceServers:[]}),o={},i=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,a=function(t){o[t]||e.Form.get("ip").setValue(t),o[t]=!0};r.createDataChannel(""),r.offer(function(e,t){t.sdp.split("\n").forEach(function(e){e.indexOf("candidate")<0||e.match(i).forEach(a)})}),r.on("ice",function(e){e&&e.candidate&&e.candidate.candidate.match(i)&&e.candidate.candidate.match(i).forEach(a)})},CambiarContrasena}();g=i([r.Component({selector:"cambiarcontrasena",styles:[n(1787),n(1786)],template:n(2909),encapsulation:r.ViewEncapsulation.None}),a("design:paramtypes",[o.AppState,s.Router,c.FormBuilder,u.Location,d.ConfigERP,p.StorageService,s.ActivatedRoute])],g),t.CambiarContrasena=g}.apply(t,r))&&(e.exports=o)},2165:function(e,t,n){(function(r){var o,i,a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};o=[n,t,n(0),n(9),n(50),n(24),n(3),n(26),n(61)],void 0!==(i=function(e,t,o,i,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function Login(e,t,n,r,o){this._httpService=e,this._router=t,this._fb=n,this.storage=r,this._config=o,this.rutaLogo="./assets/img/logo/",this.contador=0,this.bloqueo=!1,this.selectVersion=[],this.counter=0;var i=this._config.getConfig();this.rutaLogo=this.rutaLogo+i.logo}return Login.prototype.handleKeyboardEvent=function(e){e.shiftKey&&e.ctrlKey&&1==e.keyCode&&(this.counter++,this.mostrarversion=this.counter>=5)},Login.prototype.ngOnInit=function(){this.FormLogin=this._fb.group({cuenta:[,u.Validators.required],id:[,u.Validators.required],clave:[,u.Validators.required],ip:[]}),this.FormRecuperar=this._fb.group({ip:[],correo:[,u.Validators.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]}),this.storage.clear(),this.isQA=this._httpService.qa},Login.prototype.ngAfterViewInit=function(){try{this.getIp()}catch(e){console.log(e)}this.datosiniciales(),this.bloquear(this.storage.getItem("tiempobloqueo")),this.selectVersion=[{id:1,nombre:"LUX"},{id:2,nombre:"CIENCIAS"}]},Login.prototype.datosiniciales=function(){var e=this;return new Promise(function(t,n){e._httpService.getElemento("Parametros").subscribe(function(r){200==r.status?(e.storage.setItem("parametros",JSON.stringify(r.body)),e.minutos=r.body.find(function(e){return"BloqueoLogin"==e.nombre}).valor,t()):(n(),Messenger().post({message:r.body,type:"success",showCloseButton:!0}))},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})})},Login.prototype.bloquear=function(e){var t=this;if(e){var n=Date.now(),o=new Date(e);if(n.valueOf()<o.valueOf()){this.bloqueo=!0;var i=r.duration(o.valueOf()-n.valueOf()),a=i.minutes(),s=i.seconds();this.tiempobloqueo=new Date(1970,0,1,0,a,s),setTimeout(function(){t.bloquear(e)},500)}else this.bloqueo=!1}},Login.prototype.encodePassword=function(e){function base64url(e){var t=CryptoJS.enc.Base64.stringify(e);return t=t.replace(/=+$/,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_")}var t={alg:"HS256",typ:"JWT"},n=CryptoJS.enc.Utf8.parse(JSON.stringify(t)),r=base64url(n),o=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),i=base64url(o),a=r+"."+i,s="GQDstcKsx0NHjPOuXOYg5MbeJ1XT0uFiwDVvVBrk123456789",c=CryptoJS.HmacSHA256(a,s);return c=base64url(c),a+"."+c},Login.prototype.login=function(){var e=this;if(!this.minutos)return this.datosiniciales().then(function(){return e.login()}),!1;if(this.submitted=!0,this.FormLogin.invalid||this.bloqueo)return!1;var t=this.FormLogin.value;t.clave=this.encodePassword({cadena:this.FormLogin.get("clave").value}),this._httpService.postElemento("login/erp",t,!0,!0).subscribe(function(t){if(200==t.status)e.storage.setItem("token",t.body.token),e.storage.setItem("usuarioip",e.FormLogin.get("ip").value),e.storage.setItem("usuarioid",t.body.usuarioid),e.storage.setItem("usuario",t.body.cuenta),e.storage.setItem("tiempoinactividad",t.body.tiempoinactividad),console.log(e.storage.getItem("tiempoinactividad")),e.storage.setItem("menu",JSON.stringify(t.body.accesos)),e._router.navigate(["/menu/inicio"]);else if(1==t.body.reiniciarcontrasena)e._router.navigate(["/seguridad/cambiarcontrasena/"+t.body.usuarioid]);else if(e.contador+=1,Messenger().post({message:t.body,type:"success",showCloseButton:!0}),e.contador>2){var n=r().add(e.minutos,"m").format("YYYY/MM/DD HH:mm:ss");e.storage.setItem("tiempobloqueo",n),e.bloquear(n)}},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},Login.prototype.recuperar=function(){var e=this;if(this.submittedre=!0,!this.FormRecuperar.valid)return!1;this._httpService.postElemento("recuperarcontrasena",this.FormRecuperar.value,!0).subscribe(function(t){200==t.status?(Messenger().post({message:t.body,type:"success",showCloseButton:!0}),e.modal.hide(),e.FormRecuperar.reset(),e.submittedre=!1):Messenger().post({message:t.body,type:"success",showCloseButton:!0})},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},Login.prototype.getIp=function(){var e=this,t=n(1936),r=new t({iceServers:[]}),o={},i=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,a=function(t){o[t]||(e.FormLogin.get("ip").setValue(t),e.FormRecuperar.get("ip").setValue(t)),o[t]=!0};r.createDataChannel(""),r.offer(function(e,t){t.sdp.split("\n").forEach(function(e){e.indexOf("candidate")<0||e.match(i).forEach(a)})}),r.on("ice",function(e){e&&e.candidate&&e.candidate.candidate.match(i)&&e.candidate.candidate.match(i).forEach(a)})},Login.prototype.switchVersion=function(e){localStorage.setItem("sistema",e),this._httpService.putElemento("VersionSistema/"+e,"",null,!0).subscribe(function(e){200==e.status&&window.location.reload()},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},Login.prototype.handleVersion=function(){this.counter++,this.isQA&&this.counter>=5&&(this.mostrarversion=!0)},Login}();a([o.ViewChild("modal"),s("design:type",l.ModalDirective)],f.prototype,"modal",void 0),a([o.HostListener("document:keypress",["$event"]),s("design:type",Function),s("design:paramtypes",[KeyboardEvent]),s("design:returntype",void 0)],f.prototype,"handleKeyboardEvent",null),f=a([o.Component({selector:"login",styles:[n(1787),n(1786)],template:n(2910),encapsulation:o.ViewEncapsulation.None}),s("design:paramtypes",[i.AppState,c.Router,u.FormBuilder,p.StorageService,d.ConfigERP])],f),t.Login=f}.apply(t,o))&&(e.exports=i)}).call(t,n(2))},2166:function(e,t,n){(function(r){var o,i,a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};o=[n,t,n(0),n(9),n(50),n(24),n(3),n(26),n(61),n(98)],void 0!==(i=function(e,t,o,i,c,l,u,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function Loginexterno(e,t,n,r,o){this._httpService=e,this._router=t,this._fb=n,this.storage=r,this._config=o,this.rutaLogo="./assets/img/logo/",this.contador=0,this.bloqueo=!1;var i=this._config.getConfig();this.rutaLogo=this.rutaLogo+i.logo}return Loginexterno.prototype.ngOnInit=function(){this.FormLogin=this._fb.group({cuenta:["",u.Validators.required],clave:["",u.Validators.required],claveencriptada:[]}),this.storage.clear()},Loginexterno.prototype.ngAfterViewInit=function(){var e=this;this._httpService.getElemento("Parametros").subscribe(function(t){200==t.status?(e.storage.setItem("parametros",JSON.stringify(t.body)),e.minutos=alasql("SELECT valor FROM ? where parametrosid= 5",[t.body])[0].valor):Messenger().post({message:t.body,type:"success",showCloseButton:!0})},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})}),this.bloquear(this.storage.getItem("tiempobloqueo"))},Loginexterno.prototype.bloquear=function(e){var t=this;if(e){var n=Date.now(),o=new Date(e);if(n.valueOf()<o.valueOf()){this.bloqueo=!0;var i=r.duration(o.valueOf()-n.valueOf()),a=i.minutes(),s=i.seconds();this.tiempobloqueo=new Date(1970,0,1,0,a,s),setTimeout(function(){t.bloquear(e)},500)}else this.bloqueo=!1}},Loginexterno.prototype.login=function(){var e=this;if(this.submitted=!0,!this.FormLogin.valid)return!1;this.FormLogin.get("claveencriptada").setValue(this.encodePassword(this.FormLogin.get("clave").value)),this._httpService.postElemento("Loginexterno",this.FormLogin.value).subscribe(function(t){if(200==t.status)e.storage.setItem("usuarioexternoid",t.body.usuarioexternoid),e.storage.setItem("alumnoid",t.body.alumnoid),e.storage.setItem("usuario",t.body.usuario),e._router.navigate(["/externo"]);else if(e.contador+=1,Messenger().post({message:t.body,type:"success",showCloseButton:!0}),e.contador>2){var n=r().add(e.minutos,"m").format("YYYY/MM/DD HH:mm:ss");e.bloquear(n),e.storage.setItem("tiempobloqueo",n)}},function(e){Messenger().post({message:"No se pudo comunicar con el servidor",type:"error",showCloseButton:!0})})},Loginexterno.prototype.encodePassword=function(e){function base64url(e){var t=CryptoJS.enc.Base64.stringify(e);return t=t.replace(/=+$/,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_")}var t={alg:"HS256",typ:"JWT"},n=CryptoJS.enc.Utf8.parse(JSON.stringify(t)),r=base64url(n),o=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),i=base64url(o),a=r+"."+i,s="GQDstcKsx0NHjPOuXOYg5MbeJ1XT0uFiwDVvVBrk123456789",c=CryptoJS.HmacSHA256(a,s);return c=base64url(c),a+"."+c},Loginexterno}();a([o.ViewChild("modal"),s("design:type",l.ModalDirective)],f.prototype,"modal",void 0),f=a([o.Component({selector:"loginexterno",styles:[n(1787),n(1786)],template:n(2911),encapsulation:o.ViewEncapsulation.None}),s("design:paramtypes",[i.AppState,c.Router,u.FormBuilder,p.StorageService,d.ConfigERP])],f),t.Loginexterno=f}.apply(t,o))&&(e.exports=i)}).call(t,n(2))},2609:function(e,t,n){(function(e,n){function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function arrayEach(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function arrayReduce(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function getValue(e,t){return null==e?void 0:e[t]}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function overArg(e,t){return function(n){return e(t(n))}}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Hash(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hashClear(){this.__data__=pe?pe(null):{}}function hashDelete(e){return this.has(e)&&delete this.__data__[e]}function hashGet(e){var t=this.__data__;if(pe){var n=t[e];return n===o?void 0:n}return q.call(t,e)?t[e]:void 0}function hashHas(e){var t=this.__data__;return pe?void 0!==t[e]:q.call(t,e)}function hashSet(e,t){return this.__data__[e]=pe&&void 0===t?o:t,this}function ListCache(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0)&&(n==t.length-1?t.pop():re.call(t,n,1),!0)}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function MapCache(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(ce||ListCache),string:new Hash}}function mapCacheDelete(e){return getMapData(this,e).delete(e)}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this}function Stack(e){this.__data__=new ListCache(e)}function stackClear(){this.__data__=new ListCache}function stackDelete(e){return this.__data__.delete(e)}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var o=n.__data__;if(!ce||o.length<r-1)return o.push([e,t]),this;n=this.__data__=new MapCache(o)}return n.set(e,t),this}function arrayLikeKeys(e,t){var n=Ce(e)||isArguments(e)?baseTimes(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!q.call(e,i)||o&&("length"==i||isIndex(i,r))||n.push(i);return n}function assignValue(e,t,n){var r=e[t];q.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseClone(e,t,n,r,o,i,s){var c;if(r&&(c=i?r(e,o,i,s):r(e)),void 0!==c)return c;if(!isObject(e))return e;var d=Ce(e);if(d){if(c=initCloneArray(e),!t)return copyArray(e,c)}else{var p=Se(e),g=p==l||p==u;if(Me(e))return cloneBuffer(e,t);if(p==f||p==a||g&&!i){if(isHostObject(e))return i?e:{};if(c=initCloneObject(g?{}:e),!t)return copySymbols(e,baseAssign(c,e))}else{if(!P[p])return i?e:{};c=initCloneByTag(e,p,baseClone,t)}}s||(s=new Stack);var h=s.get(e);if(h)return h;if(s.set(e,c),!d)var m=n?getAllKeys(e):keys(e);return arrayEach(m||e,function(o,i){m&&(i=o,o=e[i]),assignValue(c,i,baseClone(o,t,n,r,i,e,s))}),c}function baseCreate(e){return isObject(e)?te(e):{}}function baseGetAllKeys(e,t,n){var r=t(e);return Ce(e)?r:arrayPush(r,n(e))}function baseGetTag(e){return Q.call(e)}function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)||isHostObject(e)?K:E).test(toSource(e))}function baseKeys(e){if(!isPrototype(e))return ae(e);var t=[];for(var n in Object(e))q.call(e,n)&&"constructor"!=n&&t.push(n);return t}function cloneBuffer(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new $(t).set(new $(e)),t}function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function cloneMap(e,t,n){return arrayReduce(t?n(mapToArray(e),!0):mapToArray(e),addMapEntry,new e.constructor)}function cloneRegExp(e){var t=new e.constructor(e.source,_.exec(e));return t.lastIndex=e.lastIndex,t}function cloneSet(e,t,n){return arrayReduce(t?n(setToArray(e),!0):setToArray(e),addSetEntry,new e.constructor)}function cloneSymbol(e){return be?Object(be.call(e)):{}}function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function copyObject(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;assignValue(n,a,void 0===s?e[a]:s)}return n}function copySymbols(e,t){return copyObject(e,we(e),t)}function getAllKeys(e){return baseGetAllKeys(e,keys,we)}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n["string"==typeof t?"string":"hash"]:n.map}function getNative(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}function initCloneArray(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&q.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(ee(e))}function initCloneByTag(e,t,n,r){var o=e.constructor;switch(t){case w:return cloneArrayBuffer(e);case s:case c:return new o(+e);case S:return cloneDataView(e,r);case C:case M:case j:case x:case L:case N:case O:case D:case I:return cloneTypedArray(e,r);case d:return cloneMap(e,r,n);case p:case y:return new o(e);case h:return cloneRegExp(e);case m:return cloneSet(e,r,n);case v:return cloneSymbol(e)}}function isIndex(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function isMasked(e){return!!Z&&Z in e}function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||G)}function toSource(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function cloneDeep(e){return baseClone(e,!0,!0)}function eq(e,t){return e===t||e!==e&&t!==t}function isArguments(e){return isArrayLikeObject(e)&&q.call(e,"callee")&&(!ne.call(e,"callee")||Q.call(e)==a)}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?Q.call(e):"";return t==l||t==u}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function isObjectLike(e){return!!e&&"object"==typeof e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function stubArray(){return[]}function stubFalse(){return!1}var r=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",l="[object Function]",u="[object GeneratorFunction]",d="[object Map]",p="[object Number]",f="[object Object]",g="[object Promise]",h="[object RegExp]",m="[object Set]",y="[object String]",v="[object Symbol]",b="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",M="[object Float64Array]",j="[object Int8Array]",x="[object Int16Array]",L="[object Int32Array]",N="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",k=/[\\^$.*+?()[\]{}|]/g,_=/\w*$/,E=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,P={};P[a]=P["[object Array]"]=P[w]=P[S]=P[s]=P[c]=P[C]=P[M]=P[j]=P[x]=P[L]=P[d]=P[p]=P[f]=P[h]=P[m]=P[y]=P[v]=P[N]=P[O]=P[D]=P[I]=!0,P["[object Error]"]=P[l]=P[b]=!1;var z="object"==typeof e&&e&&e.Object===Object&&e,A="object"==typeof self&&self&&self.Object===Object&&self,R=z||A||Function("return this")(),F="object"==typeof t&&t&&!t.nodeType&&t,B=F&&"object"==typeof n&&n&&!n.nodeType&&n,J=B&&B.exports===F,V=Array.prototype,U=Function.prototype,G=Object.prototype,Y=R["__core-js_shared__"],Z=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),H=U.toString,q=G.hasOwnProperty,Q=G.toString,K=RegExp("^"+H.call(q).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=J?R.Buffer:void 0,X=R.Symbol,$=R.Uint8Array,ee=overArg(Object.getPrototypeOf,Object),te=Object.create,ne=G.propertyIsEnumerable,re=V.splice,oe=Object.getOwnPropertySymbols,ie=W?W.isBuffer:void 0,ae=overArg(Object.keys,Object),se=getNative(R,"DataView"),ce=getNative(R,"Map"),le=getNative(R,"Promise"),ue=getNative(R,"Set"),de=getNative(R,"WeakMap"),pe=getNative(Object,"create"),fe=toSource(se),ge=toSource(ce),he=toSource(le),me=toSource(ue),ye=toSource(de),ve=X?X.prototype:void 0,be=ve?ve.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var we=oe?overArg(oe,Object):stubArray,Se=baseGetTag;(se&&Se(new se(new ArrayBuffer(1)))!=S||ce&&Se(new ce)!=d||le&&Se(le.resolve())!=g||ue&&Se(new ue)!=m||de&&Se(new de)!=b)&&(Se=function(e){var t=Q.call(e),n=t==f?e.constructor:void 0,r=n?toSource(n):void 0;if(r)switch(r){case fe:return S;case ge:return d;case he:return g;case me:return m;case ye:return b}return t});var Ce=Array.isArray,Me=ie||stubFalse;n.exports=cloneDeep}).call(t,n(86),n(774)(e))},2611:function(e,t,n){(function(e,r){r(t,n(0),n(8))})(0,function(e,t,n){"use strict";var r="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OC44NSA0ODguODUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4OC44NSA0ODguODU7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4Ij4KPGc+Cgk8cGF0aCBkPSJNMjQ0LjQyNSw5OC43MjVjLTkzLjQsMC0xNzguMSw1MS4xLTI0MC42LDEzNC4xYy01LjEsNi44LTUuMSwxNi4zLDAsMjMuMWM2Mi41LDgzLjEsMTQ3LjIsMTM0LjIsMjQwLjYsMTM0LjIgICBzMTc4LjEtNTEuMSwyNDAuNi0xMzQuMWM1LjEtNi44LDUuMS0xNi4zLDAtMjMuMUM0MjIuNTI1LDE0OS44MjUsMzM3LjgyNSw5OC43MjUsMjQ0LjQyNSw5OC43MjV6IE0yNTEuMTI1LDM0Ny4wMjUgICBjLTYyLDMuOS0xMTMuMi00Ny4yLTEwOS4zLTEwOS4zYzMuMi01MS4yLDQ0LjctOTIuNyw5NS45LTk1LjljNjItMy45LDExMy4yLDQ3LjIsMTA5LjMsMTA5LjMgICBDMzQzLjcyNSwzMDIuMjI1LDMwMi4yMjUsMzQzLjcyNSwyNTEuMTI1LDM0Ny4wMjV6IE0yNDguMDI1LDI5OS42MjVjLTMzLjQsMi4xLTYxLTI1LjQtNTguOC01OC44YzEuNy0yNy42LDI0LjEtNDkuOSw1MS43LTUxLjcgICBjMzMuNC0yLjEsNjEsMjUuNCw1OC44LDU4LjhDMjk3LjkyNSwyNzUuNjI1LDI3NS41MjUsMjk3LjkyNSwyNDguMDI1LDI5OS42MjV6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==",o="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTcuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDM3OS41NjEgMzc5LjU2MSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzc5LjU2MSAzNzkuNTYxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCI+CjxwYXRoIGQ9Ik0zMjAuODM4LDEyMS45MjljLTcuMzIxLTUuNjc3LTE1LjYwNC0xMS42MS0yNC42NjQtMTcuMzYyTDM0MS40OTgsNTguNmM2LjIwNC02LjI5Miw2LjEzMy0xNi40MjMtMC4xNi0yMi42MjcgIGMtNi4yOTItNi4yMDQtMTYuNDIyLTYuMTM0LTIyLjYyNiwwLjE1OUwyNjcuMTIsODguNDU2Yy0yMy4yNTMtMTEuMDE4LTQ5LjU4Ny0xOC45NjMtNzcuMTkyLTE4Ljk2M2wtMC45OTEsMC4wMDMgIGMtNTIuMjYyLDAuMzY5LTk5Ljk4MSwyOS45MzItMTMwLjgxLDU0LjY2N0MyNy42MzIsMTQ4LjYzMS0wLjA3MywxODAuMzIsMCwxOTAuNjQ5YzAuMDgyLDExLjcwMiwyNi45ODEsNDIuMjM0LDU4LjczNyw2Ni42NzEgIGM2LjY0Niw1LjExNCwxNS4wNzMsMTEuMTQ1LDI0Ljg3NSwxNy4yNDlMMzcuODcsMzIwLjk2MmMtNi4yMDQsNi4yOTItNi4xMzMsMTYuNDIzLDAuMTYsMjIuNjI3ICBjMy4xMTcsMy4wNzQsNy4xNzUsNC42MDcsMTEuMjMzLDQuNjA3YzQuMTMyLDAsOC4yNjMtMS41OTEsMTEuMzk0LTQuNzY2bDUyLjIxLTUyLjk1MWMyMi42NjYsMTAuNTM1LDQ5LjEwMSwxOC42NTEsNzYuNzUyLDE4LjY1MSAgbDEuMDA3LTAuMDAzYzU1LjUyNS0wLjM5MiwxMDUuNzc2LTMzLjU2NiwxMzAuNzg4LTUzLjMwN2MzMS42MDMtMjQuOTQyLDU4LjIzMS01Ni4wMTEsNTguMTQ4LTY3Ljg0NSAgQzM3OS40ODQsMTc2Ljk4OCwzNTIuMDQzLDE0Ni4xMjYsMzIwLjgzOCwxMjEuOTI5eiBNMTExLjMxNCwxODkuODY0Yy0wLjMwNS00My4zMzYsMzQuNTc4LTc4LjcxNCw3Ny45MTMtNzkuMDE5ICBjMTUuOTc1LTAuMTEzLDMwLjg2LDQuNTY5LDQzLjMxNCwxMi42ODFsLTEwNy45MzgsMTA5LjQ3QzExNi4zMTgsMjIwLjY1NywxMTEuNDI3LDIwNS44MzksMTExLjMxNCwxODkuODY0eiBNMTkwLjMzNCwyNjcuNzc3ICBjLTE1Ljc4NCwwLjExMS0zMC41LTQuNDYyLTQyLjg2My0xMi4zOTZsMTA3Ljc3Ny0xMDkuMzA4YzguMTA3LDEyLjI1LDEyLjg4NywyNi45LDEyLjk5OSw0Mi42ODQgIEMyNjguNTUyLDIzMi4wOTQsMjMzLjY2OSwyNjcuNDcyLDE5MC4zMzQsMjY3Ljc3N3oiIGZpbGw9IiMwMDAwMDAiLz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==",i=function(){function NgxPasswordToggleDirective(e,t){this.elem=e,this.renderer=t,this.visible=!1}return NgxPasswordToggleDirective.prototype.ngOnInit=function(){var e=this,t=this.elem.nativeElement,n=t.parentElement;this.renderer.setStyle(n,"position","relative");var i=t.offsetHeight,a=t.offsetTop;this.renderer.setStyle(t,"padding-right",i+5+"px");var s=this.renderer.createElement("div");this.renderer.setStyle(s,"position","absolute"),this.renderer.setStyle(s,"top",a+"px"),this.renderer.setStyle(s,"right","0px"),this.renderer.setStyle(s,"width",i+"px"),this.renderer.setStyle(s,"height",i+"px"),this.renderer.setStyle(s,"cursor","pointer"),this.renderer.setStyle(s,"opacity","0.6"),this.renderer.setStyle(s,"background-color","transparent"),this.renderer.setStyle(s,"background-repeat","no-repeat"),this.renderer.setStyle(s,"background-position","center center"),this.renderer.setStyle(s,"background-image","url("+o+")"),this.renderer.appendChild(n,s),this.renderer.listen(s,"click",function(n){e.visible=!e.visible,e.renderer.setStyle(s,"background-image","url("+(e.visible?r:o)+")"),e.renderer.setAttribute(t,"type",e.visible?"text":"password")})},NgxPasswordToggleDirective}();i.decorators=[{type:t.Directive,args:[{selector:"[passwordToggle]"}]}],i.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]};var a=function(){function NgxPasswordToggleModule(){}return NgxPasswordToggleModule}();a.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[i],exports:[i]}]}],a.ctorParameters=function(){return[]},e.NgxPasswordToggleModule=a,Object.defineProperty(e,"__esModule",{value:!0})})},2909:function(e,t){e.exports='<div class="container">\n    <main id="content" class="widget-login-container" role="main" style="padding-top: 0px;">\n        <div class="row">\n            <div class="col-xl-6 col-md-6 offset-xl-3 offset-md-3">\n                <section class="widget widget-login animated fadeInUp">\n                    <header>\n                        <p style="text-align:center;">\n                            <img src="{{rutaLogo}}" width="290" height="80" style="display: inline-block;">\n                        </p>\n                    </header>\n                    <div class="widget-body form-group">\n                        <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\n                            <p  style="color: red">La contraseña con la que intentaste ingresar ha expirado, por favor asigna\n                                una nueva contraseña para tu cuenta</p>\n                        </div>\n                        <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\n                            <p>Captura la información requerida</p>\n                        </div>\n\n                        <form [formGroup]="Form" (keyup.enter)="login()">\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                    <input type="text" required formControlName="correo">\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">Correo electrónico</label>\n                                </div>\n                                <small [hidden]="Form.controls.correo.valid || (Form.controls.correo.pristine && !submitted)" style="color: red">\n                                    El correo no es valido\n                                </small>\n                            </div>\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                    <input type="text" required formControlName="cuenta">\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">Cuenta</label>\n                                </div>\n                                <small [hidden]="Form.controls.cuenta.valid || (Form.controls.cuenta.pristine && !submitted)" style="color: red">\n                                    La cuenta no es valida\n                                </small>\n                            </div>\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                    <input type="text" required formControlName="id" [textMask]="{mask: numberMask, guide: false}">\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">ID</label>\n                                </div>\n                                <small [hidden]="Form.controls.id.valid || (Form.controls.id.pristine && !submitted)" style="color: red">\n                                    El id no es valido\n                                </small>\n                            </div>\n                            <div class="form-group log-status" style="padding-top: 10px; padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                  <input type="password" required formControlName="temporalclave" passwordToggle>\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">Contraseña anterior</label>\n                                </div>\n                                <small [hidden]="Form.controls.temporalclave.valid || (Form.controls.temporalclave.pristine && !submitted)" style="color: red">\n                                    La contraseña temporal no es valida\n                                </small>\n                            </div>\n                            <div class="form-group log-status" style="padding-top: 10px; padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                    <input type="password" required formControlName="nuevaclave" passwordToggle>\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">Nueva contraseña</label>\n                                </div>\n                                <small [hidden]="Form.controls.nuevaclave.valid || (Form.controls.nuevaclave.pristine && !submitted)" style="color: red">\n                                    {{leyenda}}\n                                </small>\n                            </div>\n                            <div class="form-group log-status" style="padding-top: 10px; padding-right: 10px; padding-left: 10px;">\n                                <div class="group">\n                                    <input type="password" required formControlName="confirmarclave" passwordToggle>\n                                    <span class="highlight"></span>\n                                    <span class="bar"></span>\n                                    <label class="MaterialLabel">Confirmar la nueva contraseña</label>\n                                </div>\n                                <small [hidden]="Form.controls.confirmarclave.valid || (Form.controls.confirmarclave.pristine && !submitted)" style="color: red">\n                                    La contraseña no coincide\n                                </small>\n                            </div>\n                        </form>\n                        <a class="btn log-btn aLogin" style="margin-top: 10px; color: #fff; width: 100% !important; background: #2F619B;" (click)="cambiar()" >Cambiar contraseña</a>\n                        <a class="btn log-btn aLogin" style="margin-top: 10px; width: 100% !important; background-color: #dfdfdf; border-color: #adadad;" (click)="atras()" >Cancelar</a>\n                    </div>\n                </section>\n            </div>\n        </div>\n    </main>\n</div>\n'},2910:function(e,t){e.exports='<div class="container">\r\n    <main id="content" class="widget-login-container" role="main">\r\n        <div class="row">\r\n            <div class="col-sm-8" style="text-align: right;" *ngIf="isQA">\r\n                <p style="font-size: 45px;"><strong>QA</strong></p>\r\n            </div>\r\n            <div class="col-lg-4 offset-lg-4 col-md-6 offset-md-3 col-sm-8 offset-sm-2 offset-1 col-10">\r\n                <section class="widget widget-login animated fadeInUp" style="margin-bottom: 10px;">\r\n                    <header style="padding: 15px 10px;">\r\n                        <img src="{{rutaLogo}}" width="100%" height="auto" style="display: inline-block;">\r\n                    </header>\r\n                    <div class="widget-body form-group">\r\n                        <form [formGroup]="FormLogin" (keyup.enter)="login()">\r\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\r\n                                <div class="group">\r\n                                    <input type="text" required formControlName="cuenta">\r\n                                    <span class="highlight"></span>\r\n                                    <span class="bar"></span>\r\n                                    <label class="MaterialLabel">Cuenta</label>\r\n                                </div>\r\n                                <small\r\n                                    [hidden]="FormLogin.controls.cuenta.valid || (FormLogin.controls.cuenta.pristine && !submitted)"\r\n                                    style="color: red">\r\n                                    La cuenta no es valida\r\n                                </small>\r\n                            </div>\r\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\r\n                                <div class="group">\r\n                                    <input type="text" required formControlName="id">\r\n                                    <span class="highlight"></span>\r\n                                    <span class="bar"></span>\r\n                                    <label class="MaterialLabel">ID</label>\r\n                                </div>\r\n                                <small\r\n                                    [hidden]="FormLogin.controls.id.valid || (FormLogin.controls.id.pristine && !submitted)"\r\n                                    style="color: red">\r\n                                    El id no es valido\r\n                                </small>\r\n                            </div>\r\n                            <div class="form-group log-status"\r\n                                style="padding-top: 10px; padding-right: 10px; padding-left: 10px;">\r\n                                <div class="group">\r\n                                    <input type="password" required formControlName="clave" passwordToggle>\r\n                                    <span class="highlight"></span>\r\n                                    <span class="bar"></span>\r\n                                    <label class="MaterialLabel">Contraseña</label>\r\n                                </div>\r\n                                <small\r\n                                    [hidden]="FormLogin.controls.clave.valid || (FormLogin.controls.clave.pristine && !submitted)"\r\n                                    style="color: red">\r\n                                    La contraseña no es valida\r\n                                </small>\r\n                            </div>\r\n                            <div class="form-group" style="padding-right: 10px; padding-left: 10px;" *ngIf="isQA && mostrarversion">\r\n                                <div class="clearfix">\r\n                                    <ul class="nav nav-tabs float-left" role="tablist">\r\n                                        <li class="nav-item" (click)="switchVersion(1)">\r\n                                            <a class="nav-link" data-toggle="tab"  role="tab" aria-controls="basic" aria-expanded="true">LUX</a>\r\n                                        </li>\r\n                                        <li class="nav-item" (click)="switchVersion(2)">\r\n                                            <a class="nav-link" data-toggle="tab"   role="tab" aria-controls="basic" aria-expanded="true">CIENCIAS</a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        <button class="btn log-btn aLogin"\r\n                            style="margin-top: 10px; color: #fff; width: 100% !important;" (click)="login()"\r\n                            [disabled]="bloqueo">Ingresar</button>\r\n                        <small [hidden]="!bloqueo" style="color: red">\r\n                            Se ha superado el número de intentos de acceso al sistema.\r\n                            <br>Tiempo de espera para el siguiente intento {{tiempobloqueo | date: "mm:ss"}} o utilice\r\n                            la opción de Recuperar contraseña.\r\n                        </small>\r\n                    </div>\r\n                    <div style="text-align:center">\r\n                        <a (click)="modal.show(); submitted=false"\r\n                            style="color: #165c82;text-decoration: underline;">Recuperar contraseña</a>\r\n                    </div>\r\n                </section>\r\n                <section class="widget widget-login animated fadeInUp" style="background: white;">\r\n                    <strong>Este portal funciona mejor con Chrome</strong>\r\n                    <a style="color: blue;" target="_blank"\r\n                        href="https://www.google.com/intl/es-419/chrome">https://www.google.com/intl/es-419/chrome</a>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </main>\r\n    <footer class="page-footer">\r\n        <p (click)="handleVersion();">2017 &copy; Inceptio.</p>\r\n    </footer>\r\n</div>\r\n\r\n<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" bsModal\r\n    #modal="bs-modal" [config]="{\'backdrop\':\'static\', \'keyboard\': false}">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <form [formGroup]="FormRecuperar" (ngSubmit)="recuperar()">\r\n                <div class="modal-body">\r\n                    <div class="row">\r\n                        <div class="col-lg-12 col-sm-12 col-12 form-group">\r\n                            <p style="text-align:center;">\r\n                                <img src="{{rutaLogo}}" width="290" height="80" style="display: inline-block;">\r\n                            </p>\r\n                        </div>\r\n                        <div class="col-lg-12 col-sm-12 col-12 form-group">\r\n                            <p>Para recuperar tu contraseña, captura el correo electrónico vinculado a tu cuenta y\r\n                                te enviaremos un mensaje con una contraseña temporal para ingresar al sistema.</p>\r\n                        </div>\r\n                        <div class="col-lg-12 col-sm-12 col-12 form-group">\r\n                            <div class="group">\r\n                                <input type="text" required formControlName="correo">\r\n                                <span class="highlight"></span> <span class="bar"></span>\r\n                                <label class="MaterialLabel">Correo electrónico</label>\r\n                            </div>\r\n                            <small\r\n                                [hidden]="FormRecuperar.controls.correo.valid || (FormRecuperar.controls.correo.pristine && !submittedre)"\r\n                                style="color: red">\r\n                                El correo electrónico no es válido\r\n                            </small>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button class="btn btn-default" type="button"\r\n                        (click)="modal.hide(); FormRecuperar.reset();submittedre=false">Cancelar</button>\r\n                    <button class="btn principal" type="submit">Recuperar contraseña</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},2911:function(e,t){e.exports='<div class="container">\r\n    <main id="content" class="widget-login-container" role="main">\r\n        <div class="row">\r\n            <div class="col-lg-4 offset-lg-4 col-md-6 offset-md-3 col-sm-8 offset-sm-2 offset-1 col-10">\r\n                <section class="widget widget-login animated fadeInUp">\r\n                    <header style="padding: 15px 10px;">\r\n                        <img src="{{rutaLogo}}" width="100%" height="auto" style="display: inline-block;">\r\n                    </header>\r\n                    <div class="widget-body form-group">\r\n                        <form [formGroup]="FormLogin" (keyup.enter)="login()"> \r\n                            <div class="form-group " style="padding-right: 10px; padding-left: 10px;">\r\n                                <div class="group">\r\n                                    <input type="text" required formControlName="cuenta">\r\n                                    <span class="highlight"></span>\r\n                                    <span class="bar"></span>\r\n                                    <label class="MaterialLabel">Cuenta</label>\r\n                                </div>\r\n                                <small [hidden]="FormLogin.controls.cuenta.valid || (FormLogin.controls.cuenta.pristine && !submitted)" style="color: red">\r\n                                    La cuenta no es valida\r\n                                </small> \r\n                            </div>\r\n                            <div class="form-group log-status" style="padding-top: 10px; padding-right: 10px; padding-left: 10px;">\r\n                                <div class="group">\r\n                                    <input type="password" required formControlName="clave" passwordToggle>\r\n                                    <span class="highlight"></span>\r\n                                    <span class="bar"></span>\r\n                                    <label class="MaterialLabel">Contraseña</label>    \r\n                                </div>\r\n                                <small [hidden]="FormLogin.controls.clave.valid || (FormLogin.controls.clave.pristine && !submitted)" style="color: red">\r\n                                    La contraseña no es valida\r\n                                </small> \r\n                            </div>\r\n                        </form>\r\n                        <button class="btn log-btn aLogin" style="margin-top: 10px; color: #fff; width: 100% !important;" (click)="login()" [disabled]="bloqueo">Ingresar</button>\r\n                        <small [hidden]="!bloqueo" style="color: red">\r\n                            Se ha superado el número de intentos de acceso al sistema. \r\n                            <br>Espere {{tiempobloqueo | date: "mm:ss"}} minutos para intentar acceder al sistema de nuevo o utilice la opción de Recuperar contraseña.\r\n                        </small> \r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </main>\r\n    <footer class="page-footer">\r\n        2017 &copy; Inceptio.\r\n    </footer>\r\n</div>\r\n'},2932:function(e,t,n){var r=n(2935),o=n(2934);t.toIncomingSDPOffer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingSDPOffer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingSDPAnswer=function(e){return r.toSessionSDP(e,{role:"responder",direction:"outgoing"})},t.toIncomingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingMediaSDPOffer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingMediaSDPAnswer=function(e){return r.toMediaSDP(e,{role:"responder",direction:"outgoing"})},t.toCandidateSDP=r.toCandidateSDP,t.toMediaSDP=r.toMediaSDP,t.toSessionSDP=r.toSessionSDP,t.toIncomingJSONOffer=function(e,t){return o.toSessionJSON(e,{role:"responder",direction:"incoming",creators:t})},t.toOutgoingJSONOffer=function(e,t){return o.toSessionJSON(e,{role:"initiator",direction:"outgoing",creators:t})},t.toIncomingJSONAnswer=function(e,t){return o.toSessionJSON(e,{role:"initiator",direction:"incoming",creators:t})},t.toOutgoingJSONAnswer=function(e,t){return o.toSessionJSON(e,{role:"responder",direction:"outgoing",creators:t})},t.toIncomingMediaJSONOffer=function(e,t){return o.toMediaJSON(e,{role:"responder",direction:"incoming",creator:t})},t.toOutgoingMediaJSONOffer=function(e,t){return o.toMediaJSON(e,{role:"initiator",direction:"outgoing",creator:t})},t.toIncomingMediaJSONAnswer=function(e,t){return o.toMediaJSON(e,{role:"initiator",direction:"incoming",creator:t})},t.toOutgoingMediaJSONAnswer=function(e,t){return o.toMediaJSON(e,{role:"responder",direction:"outgoing",creator:t})},t.toCandidateJSON=o.toCandidateJSON,t.toMediaJSON=o.toMediaJSON,t.toSessionJSON=o.toSessionJSON},2933:function(e,t){t.lines=function(e){return e.split("\r\n").filter(function(e){return e.length>0})},t.findLine=function(e,t,n){for(var r=e.length,o=0;o<t.length;o++)if(t[o].substr(0,r)===e)return t[o];if(!n)return!1;for(var i=0;i<n.length;i++)if(n[i].substr(0,r)===e)return n[i];return!1},t.findLines=function(e,t,n){for(var r=[],o=e.length,i=0;i<t.length;i++)t[i].substr(0,o)===e&&r.push(t[i]);if(r.length||!n)return r;for(var a=0;a<n.length;a++)n[a].substr(0,o)===e&&r.push(n[a]);return r},t.mline=function(e){for(var t=e.substr(2).split(" "),n={media:t[0],port:t[1],proto:t[2],formats:[]},r=3;r<t.length;r++)t[r]&&n.formats.push(t[r]);return n},t.rtpmap=function(e){var t=e.substr(9).split(" "),n={id:t.shift()};return t=t[0].split("/"),n.name=t[0],n.clockrate=t[1],n.channels=3==t.length?t[2]:"1",n},t.sctpmap=function(e){var t=e.substr(10).split(" ");return{number:t.shift(),protocol:t.shift(),streams:t.shift()}},t.fmtp=function(e){for(var t,n,r,o=e.substr(e.indexOf(" ")+1).split(";"),i=[],a=0;a<o.length;a++)t=o[a].split("="),n=t[0].trim(),r=t[1],n&&r?i.push({key:n,value:r}):n&&i.push({key:"",value:n});return i},t.crypto=function(e){var t=e.substr(9).split(" ");return{tag:t[0],cipherSuite:t[1],keyParams:t[2],sessionParams:t.slice(3).join(" ")}},t.fingerprint=function(e){var t=e.substr(14).split(" ");return{hash:t[0],value:t[1]}},t.extmap=function(e){var t=e.substr(9).split(" "),n={},r=t.shift(),o=r.indexOf("/");return o>=0?(n.id=r.substr(0,o),n.senders=r.substr(o+1)):(n.id=r,n.senders="sendrecv"),n.uri=t.shift()||"",n},t.rtcpfb=function(e){var t=e.substr(10).split(" "),n={};return n.id=t.shift(),n.type=t.shift(),"trr-int"===n.type?n.value=t.shift():n.subtype=t.shift()||"",n.parameters=t,n},t.candidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:t[3],ip:t[4],port:t[5],type:t[7],generation:"0"},r=8;r<t.length;r+=2)"raddr"===t[r]?n.relAddr=t[r+1]:"rport"===t[r]?n.relPort=t[r+1]:"generation"===t[r]?n.generation=t[r+1]:"tcptype"===t[r]&&(n.tcpType=t[r+1]);return n.network="1",n},t.sourceGroups=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].substr(13).split(" ");t.push({semantics:r.shift(),sources:r})}return t},t.sources=function(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r].substr(7).split(" "),i=o.shift();if(!n[i]){var a={ssrc:i,parameters:[]};t.push(a),n[i]=a}o=o.join(" ").split(":");var s=o.shift(),c=o.join(":")||null;n[i].parameters.push({key:s,value:c})}return t},t.groups=function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r].substr(8).split(" "),n.push({semantics:t.shift(),contents:t});return n},t.bandwidth=function(e){var t=e.substr(2).split(":"),n={};return n.type=t.shift(),n.bandwidth=t.shift(),n},t.msid=function(e){var t=e.substr(7),n=t.split(" ");return{msid:t,mslabel:n[0],label:n[1]}}},2934:function(e,t,n){var r=n(1937),o=n(2933),i=Math.random();t._setIdCounter=function(e){i=e},t.toSessionJSON=function(e,n){var r,i=n.creators||[],a=n.role||"initiator",s=n.direction||"outgoing",c=e.split("\r\nm=");for(r=1;r<c.length;r++)c[r]="m="+c[r],r!==c.length-1&&(c[r]+="\r\n");var l=c.shift()+"\r\n",u=o.lines(l),d={},p=[];for(r=0;r<c.length;r++)p.push(t.toMediaJSON(c[r],l,{role:a,direction:s,creator:i[r]||"initiator"}));d.contents=p;var f=o.findLines("a=group:",u);return f.length&&(d.groups=o.groups(f)),d},t.toMediaJSON=function(e,n,i){var a=i.creator||"initiator",s=i.role||"initiator",c=i.direction||"outgoing",l=o.lines(e),u=o.lines(n),d=o.mline(l[0]),p={creator:a,name:d.media,application:{applicationType:"rtp",media:d.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transportType:"iceUdp",candidates:[],fingerprints:[]}};"application"==d.media&&(p.application={applicationType:"datachannel"},p.transport.sctp=[]);var f=p.application,g=p.transport,h=o.findLine("a=mid:",l);if(h&&(p.name=h.substr(6)),o.findLine("a=sendrecv",l,u)?p.senders="both":o.findLine("a=sendonly",l,u)?p.senders=r[s][c].sendonly:o.findLine("a=recvonly",l,u)?p.senders=r[s][c].recvonly:o.findLine("a=inactive",l,u)&&(p.senders="none"),"rtp"==f.applicationType){var m=o.findLine("b=",l);m&&(f.bandwidth=o.bandwidth(m));var y=o.findLine("a=ssrc:",l);y&&(f.ssrc=y.substr(7).split(" ")[0]);o.findLines("a=rtpmap:",l).forEach(function(e){var t=o.rtpmap(e);t.parameters=[],t.feedback=[],o.findLines("a=fmtp:"+t.id,l).forEach(function(e){t.parameters=o.fmtp(e)}),o.findLines("a=rtcp-fb:"+t.id,l).forEach(function(e){t.feedback.push(o.rtcpfb(e))}),f.payloads.push(t)});o.findLines("a=crypto:",l,u).forEach(function(e){f.encryption.push(o.crypto(e))}),o.findLine("a=rtcp-mux",l)&&(f.mux=!0);o.findLines("a=rtcp-fb:*",l).forEach(function(e){f.feedback.push(o.rtcpfb(e))});o.findLines("a=extmap:",l).forEach(function(e){var t=o.extmap(e);t.senders=r[s][c][t.senders],f.headerExtensions.push(t)});var v=o.findLines("a=ssrc-group:",l);f.sourceGroups=o.sourceGroups(v||[]);var b=o.findLines("a=ssrc:",l),w=f.sources=o.sources(b||[]),S=o.findLine("a=msid:",l);if(S){var C=o.msid(S);["msid","mslabel","label"].forEach(function(e){for(var t=0;t<w.length;t++){for(var n=!1,r=0;r<w[t].parameters.length;r++)w[t].parameters[r].key===e&&(n=!0);n||w[t].parameters.push({key:e,value:C[e]})}})}o.findLine("a=x-google-flag:conference",l,u)&&(f.googConferenceFlag=!0)}var M=o.findLines("a=fingerprint:",l,u),j=o.findLine("a=setup:",l,u);M.forEach(function(e){var t=o.fingerprint(e);j&&(t.setup=j.substr(8)),g.fingerprints.push(t)});var x=o.findLine("a=ice-ufrag:",l,u),L=o.findLine("a=ice-pwd:",l,u);if(x&&L){g.ufrag=x.substr(12),g.pwd=L.substr(10),g.candidates=[];o.findLines("a=candidate:",l,u).forEach(function(e){g.candidates.push(t.toCandidateJSON(e))})}if("datachannel"==f.applicationType){o.findLines("a=sctpmap:",l).forEach(function(e){var t=o.sctpmap(e);g.sctp.push(t)})}return p},t.toCandidateJSON=function(e){var t=o.candidate(e.split("\r\n")[0]);return t.id=(i++).toString(36).substr(0,12),t}},2935:function(e,t,n){var r=n(1937);t.toSessionSDP=function(e,n){var r=(n.role,n.direction,n.sid||e.sid||Date.now()),o=n.time||Date.now(),i=["v=0","o=- "+r+" "+o+" IN IP4 0.0.0.0","s=-","t=0 0"],a=e.contents||[],s=!1;return a.forEach(function(e){e.application.sources&&e.application.sources.length&&(s=!0)}),s&&i.push("a=msid-semantic: WMS *"),(e.groups||[]).forEach(function(e){i.push("a=group:"+e.semantics+" "+e.contents.join(" "))}),a.forEach(function(e){i.push(t.toMediaSDP(e,n))}),i.join("\r\n")+"\r\n"},t.toMediaSDP=function(e,n){var o=[],i=n.role||"initiator",a=n.direction||"outgoing",s=e.application,c=e.transport,l=s.payloads||[],u=c&&c.fingerprints||[],d=[];if("datachannel"==s.applicationType?(d.push("application"),d.push("1"),d.push("DTLS/SCTP"),c.sctp&&c.sctp.forEach(function(e){d.push(e.number)})):(d.push(s.media),d.push("1"),u.length>0?d.push("UDP/TLS/RTP/SAVPF"):s.encryption&&s.encryption.length>0?d.push("RTP/SAVPF"):d.push("RTP/AVPF"),l.forEach(function(e){d.push(e.id)})),o.push("m="+d.join(" ")),o.push("c=IN IP4 0.0.0.0"),s.bandwidth&&s.bandwidth.type&&s.bandwidth.bandwidth&&o.push("b="+s.bandwidth.type+":"+s.bandwidth.bandwidth),"rtp"==s.applicationType&&o.push("a=rtcp:1 IN IP4 0.0.0.0"),c){c.ufrag&&o.push("a=ice-ufrag:"+c.ufrag),c.pwd&&o.push("a=ice-pwd:"+c.pwd);u.forEach(function(e){o.push("a=fingerprint:"+e.hash+" "+e.value),e.setup&&!!1&&o.push("a=setup:"+e.setup)}),c.sctp&&c.sctp.forEach(function(e){o.push("a=sctpmap:"+e.number+" "+e.protocol+" "+e.streams)})}return"rtp"==s.applicationType&&o.push("a="+(r[i][a][e.senders]||"sendrecv")),o.push("a=mid:"+e.name),s.sources&&s.sources.length&&(s.sources[0].parameters||[]).forEach(function(e){"msid"===e.key&&o.push("a=msid:"+e.value)}),s.mux&&o.push("a=rtcp-mux"),(s.encryption||[]).forEach(function(e){o.push("a=crypto:"+e.tag+" "+e.cipherSuite+" "+e.keyParams+(e.sessionParams?" "+e.sessionParams:""))}),s.googConferenceFlag&&o.push("a=x-google-flag:conference"),l.forEach(function(e){var t="a=rtpmap:"+e.id+" "+e.name+"/"+e.clockrate;if(e.channels&&"1"!=e.channels&&(t+="/"+e.channels),o.push(t),e.parameters&&e.parameters.length){var n=["a=fmtp:"+e.id],r=[];e.parameters.forEach(function(e){r.push((e.key?e.key+"=":"")+e.value)}),n.push(r.join(";")),o.push(n.join(" "))}e.feedback&&e.feedback.forEach(function(t){"trr-int"===t.type?o.push("a=rtcp-fb:"+e.id+" trr-int "+(t.value?t.value:"0")):o.push("a=rtcp-fb:"+e.id+" "+t.type+(t.subtype?" "+t.subtype:""))})}),s.feedback&&s.feedback.forEach(function(e){"trr-int"===e.type?o.push("a=rtcp-fb:* trr-int "+(e.value?e.value:"0")):o.push("a=rtcp-fb:* "+e.type+(e.subtype?" "+e.subtype:""))}),(s.headerExtensions||[]).forEach(function(e){o.push("a=extmap:"+e.id+(e.senders?"/"+r[i][a][e.senders]:"")+" "+e.uri)}),(s.sourceGroups||[]).forEach(function(e){o.push("a=ssrc-group:"+e.semantics+" "+e.sources.join(" "))}),(s.sources||[]).forEach(function(e){for(var t=0;t<e.parameters.length;t++){var n=e.parameters[t];o.push("a=ssrc:"+(e.ssrc||s.ssrc)+" "+n.key+(n.value?":"+n.value:""))}}),(c.candidates||[]).forEach(function(e){o.push(t.toCandidateSDP(e))}),o.join("\r\n")},t.toCandidateSDP=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"srflx"!==n&&"prflx"!==n&&"relay"!==n||e.relAddr&&e.relPort&&(t.push("raddr"),t.push(e.relAddr),t.push("rport"),t.push(e.relPort)),e.tcpType&&"TCP"==e.protocol.toUpperCase()&&(t.push("tcptype"),t.push(e.tcpType)),t.push("generation"),t.push(e.generation||"0"),"a=candidate:"+t.join(" ")}},2942:function(e,t){function WildEmitter(){}e.exports=WildEmitter,WildEmitter.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var r=3===arguments.length,o=r?arguments[1]:void 0,i=r?arguments[2]:arguments[1];return i._groupName=o,(this.callbacks[e]=this.callbacks[e]||[]).push(i),this},t.once=function(e,t,n){function on(){r.off(e,on),a.apply(this,arguments)}var r=this,o=3===arguments.length,i=o?arguments[1]:void 0,a=o?arguments[2]:arguments[1];return this.on(e,i,on),this},t.releaseGroup=function(e){this.callbacks=this.callbacks||{};var t,n,r,o;for(t in this.callbacks)for(o=this.callbacks[t],n=0,r=o.length;n<r;n++)o[n]._groupName===e&&(o.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(n=r.indexOf(t),r.splice(n,1),0===r.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,o=[].slice.call(arguments,1),i=this.callbacks[e],a=this.getWildcardCallbacks(e);if(i)for(r=i.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,o);if(a)for(n=a.length,r=a.slice(),t=0,n=r.length;t<n&&r[t];++t)r[t].apply(this,[e].concat(o));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},WildEmitter.mixin(WildEmitter)}});